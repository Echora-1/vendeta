<template>
  <div class="tabs">
    <div class="tabs__header-wrap">
      <ul class="tabs__header">
        <li
          v-for="(tab, index) in tabs"
          :key="tab.title"
          :class="{ tab__selected: index === selectedIndex }"
          @click="selectTab(index)"
        >
          <svg
            v-if="tab.title === 'Android'"
            width="20"
            height="24"
            viewBox="0 0 20 24"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.46295 7.65625C1.05569 7.65625 0.710146 7.79827 0.426105 8.08231C0.142063 8.36635 0 8.70719 0 9.10501V15.213C0 15.6207 0.142021 15.966 0.426105 16.2501C0.710146 16.5341 1.05569 16.6762 1.46295 16.6762C1.8699 16.6762 2.21335 16.5341 2.49299 16.2501C2.77207 15.966 2.912 15.6207 2.912 15.213V9.10501C2.912 8.70715 2.76998 8.36635 2.4859 8.08231C2.20181 7.79827 1.86076 7.65625 1.46295 7.65625Z"
              fill="currentColor"
            />
            <path
              d="M13.2247 2.17313L14.2333 0.312624C14.2995 0.189451 14.2759 0.0949986 14.1624 0.0285827C14.0392 -0.0286872 13.9445 0.000332419 13.8784 0.11359L12.8557 1.98896C11.9558 1.59111 11.0041 1.39182 10.0005 1.39182C8.99661 1.39182 8.04478 1.59115 7.14526 1.98896L6.12256 0.11359C6.0561 0.000332419 5.96144 -0.0284307 5.83852 0.0285827C5.72475 0.0952978 5.7012 0.189451 5.76766 0.312624L6.77625 2.17313C5.75356 2.69467 4.93904 3.42101 4.33301 4.35374C3.72697 5.28698 3.42383 6.30681 3.42383 7.41503H16.5628C16.5628 6.30707 16.2596 5.2872 15.6536 4.35374C15.0476 3.42101 14.2377 2.69467 13.2247 2.17313ZM7.39374 4.87925C7.28467 4.98858 7.1544 5.04299 7.00298 5.04299C6.85126 5.04299 6.72364 4.98858 6.61953 4.87925C6.51542 4.77044 6.46336 4.64069 6.46336 4.48875C6.46336 4.33733 6.51542 4.20732 6.61953 4.09825C6.72364 3.98943 6.85156 3.93503 7.00298 3.93503C7.1544 3.93503 7.28467 3.98943 7.39374 4.09825C7.50255 4.20757 7.55722 4.33733 7.55722 4.48875C7.55692 4.64043 7.5023 4.77044 7.39374 4.87925ZM13.3808 4.87925C13.2765 4.98858 13.1486 5.04299 12.9974 5.04299C12.8457 5.04299 12.7154 4.98858 12.6066 4.87925C12.4976 4.77044 12.4431 4.64069 12.4431 4.48875C12.4431 4.33733 12.4976 4.20732 12.6066 4.09825C12.7154 3.98943 12.8457 3.93503 12.9974 3.93503C13.1488 3.93503 13.2765 3.98943 13.3808 4.09825C13.485 4.20757 13.537 4.33733 13.537 4.48875C13.537 4.64043 13.485 4.77044 13.3808 4.87925Z"
              fill="currentColor"
            />
            <path
              d="M3.48047 17.3863C3.48047 17.8223 3.63189 18.1914 3.93478 18.4943C4.23793 18.7972 4.60702 18.9486 5.04274 18.9486H6.09394L6.10834 22.1734C6.10834 22.5806 6.25036 22.9264 6.5344 23.2105C6.81845 23.4946 7.15954 23.6366 7.5571 23.6366C7.9641 23.6366 8.30986 23.4946 8.59394 23.2105C8.87802 22.9264 9.02004 22.5807 9.02004 22.1734V18.9489H10.9802V22.1734C10.9802 22.5806 11.1222 22.9264 11.4063 23.2105C11.6904 23.4946 12.0358 23.6366 12.4431 23.6366C12.8501 23.6366 13.1959 23.4946 13.48 23.2105C13.764 22.9264 13.906 22.5807 13.906 22.1734V18.9489H14.9714C15.3975 18.9489 15.7618 18.7974 16.0653 18.4945C16.3681 18.1917 16.5196 17.8226 16.5196 17.3866V7.9259H3.48047V17.3863Z"
              fill="currentColor"
            />
            <path
              d="M18.5367 7.65625C18.1388 7.65625 17.798 7.79618 17.514 8.07526C17.2299 8.35486 17.0879 8.6983 17.0879 9.10501V15.213C17.0879 15.6207 17.2299 15.966 17.514 16.2501C17.798 16.5341 18.1391 16.6762 18.5367 16.6762C18.9437 16.6762 19.2894 16.5341 19.5735 16.2501C19.8576 15.966 19.9996 15.6207 19.9996 15.213V9.10501C19.9996 8.69826 19.8576 8.35486 19.5735 8.07526C19.2894 7.79618 18.9437 7.65625 18.5367 7.65625Z"
              fill="currentColor"
            />
          </svg>
          <svg
            v-if="tab.title === 'iOS'"
            width="20"
            height="25"
            viewBox="0 0 20 25"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16.7728 12.9709C16.7728 10.8609 17.9 9.057 19.4999 8.2981C19.0545 7.71587 18.4573 7.16847 17.6536 6.59619C16.6136 5.85471 14.3095 5.77011 12.7992 6.15578C11.6522 6.4469 10.6743 7.00923 10.1518 7.03411C9.67902 7.05899 8.66385 6.42699 7.50435 6.15578C6.106 5.82734 4.58074 6.01147 3.53322 6.59619C0.487683 8.2981 0 10.0373 0 13.6303C0 17.7706 1.50037 21.2814 4.85444 23.7447C5.59094 24.2847 6.91465 24.6032 7.94476 24.1851C8.83055 23.8244 9.30331 23.3839 10.1518 23.3068C11.3909 23.1948 11.9681 23.6104 12.5653 23.9811C13.1077 24.317 14.3593 24.5882 15.0062 24.1876C17.273 22.7843 19.057 20.4902 20 17.8428C18.1388 17.2456 16.7728 15.2924 16.7728 12.9709ZM14.1229 3.51831C15.0236 2.10502 15.0261 -0.00744482 15.0062 1.97281e-05C14.633 0.124429 13.374 -0.169177 11.4755 1.31876C10.8136 1.83879 10 3.11771 9.70888 3.95623C9.48743 4.5932 9.27096 6.15329 9.26599 6.15578C9.24359 6.15827 10.7216 6.07616 11.473 5.71537C12.2443 5.34712 13.5407 4.43396 14.1229 3.51831Z"
              fill="currentColor"
            />
          </svg>
          <svg
            v-if="tab.title === 'Windows'"
            width="20"
            height="21"
            viewBox="0 0 20 21"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0 2.84042L8.17337 1.72729L8.17694 9.61117L0.00746635 9.65769L0 2.84042ZM8.16947 10.5195L8.17582 18.4103L0.00634411 17.2871L0.00588605 10.4666L8.16947 10.5195ZM9.16028 1.58168L19.9975 0V9.5109L9.16028 9.59693V1.58168ZM20 10.5937L19.9975 20.0618L9.16025 18.5323L9.14507 10.576L20 10.5937Z"
              fill="currentColor"
            />
          </svg>
          <span>{{ tab.title }}</span>
        </li>
      </ul>
    </div>
    <slot></slot>
  </div>
</template>

<script>
export default {
  data() {
    return {
      selectedIndex: 0,
      tabs: [],
    }
  },
  created() {
    this.tabs = this.$children
  },
  mounted() {
    this.selectTab(0)
  },
  methods: {
    selectTab(i) {
      this.selectedIndex = i

      // loop over all the tabs
      this.tabs.forEach((tab, index) => {
        tab.isActive = index === i
      })
    },
  },
}
</script>

<style lang="scss" scoped>
.tabs {
  &__header-wrap {
    background: #ececec;
    border-radius: 36px;
    padding: 0 22px;
    margin-bottom: 45px;
  }

  &__header {
    display: flex;
    list-style: none;
    padding: 0;
    width: 100%;
    align-items: center;
    justify-content: space-between;
    margin: 0;

    li {
      font-weight: 500;
      font-size: 18px;
      line-height: 26px;
      color: #1a1a1a;
      cursor: pointer;
      background: #ececec;
      min-height: 55px;
      width: 100%;
      max-width: 160px;
      border-radius: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    span {
      display: inline-flex;
      align-items: center;

      @media(max-width: 767px) {
        display: none;
      }
    }

    svg {
      margin-right: 9px;
    }
  }
}

li.tab__selected {
  color: #ffffff;
  background: #00b4db;
}
</style>
